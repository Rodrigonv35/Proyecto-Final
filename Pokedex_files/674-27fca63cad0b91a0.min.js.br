"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="1d921423-12c1-5e69-929f-93db9fbe780c")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[674],{66348:(e,t,a)=>{a.d(t,{AU:()=>r,JK:()=>o,Jb:()=>_,Ud:()=>c,_9:()=>l,cY:()=>s,gv:()=>m,yD:()=>n});var i=a(67249);(0,i.N)("FILE_IMPORT_SET_FROM_FILE_IMPORT_NUX_STEP");let r=(0,i.N)("FILE_IMPORT_CANCEL_IMPORT_PDF"),l=(0,i.N)("FILE_IMPORT_CONFIRM_IMPORT_PDF"),o=(0,i.N)("FILE_IMPORT_SHOW_IMPORT_PDF_CONFIRMATION"),n=(0,i.N)("FILE_IMPORT_CANCEL"),s=(0,i.N)("FILE_IMPORT_CLEAR_IMPORTS");(0,i.N)("FILE_IMPORT_DONE_PROCESSING_FILE");let _=(0,i.N)("FILE_IMPORT_PROCESS_NEXT_IN_QUEUE");(0,i.N)("FILE_IMPORT_FAIL_ON_LIMIT");let m=(0,i.N)("FILE_IMPORT_DROP");(0,i.N)("FILE_IMPORT_UPDATE_ITEM");let c=(0,i.N)("FILE_IMPORT_ADD_TO_QUEUE");(0,i.N)("FILE_IMPORT_STOP_DRAG"),(0,i.N)("FILE_IMPORT_START_DRAG")},31363:(e,t,a)=>{let i;a.d(t,{F1:()=>E,Kq:()=>p,LN:()=>T,Nw:()=>h,do:()=>g,ui:()=>I});var r=a(67249),l=a(208),o=a(81388),n=a(39863),s=a(92592),_=a(80820),m=a(88022),c=a(99506),d=a(20741),u=a(37890),f=a(70516),p=((i=p||{}).TEAM_PERMISSIONS_MODAL="team permissions modal",i.NUX_INVITE_COLLABORATOR="nux invite collaborator",i);let E=(0,r.N)("TEAM_JOIN_LINKS_SET_REQUEST_STATE"),I=(0,_.nF)(async(e,t,{loadingKey:a})=>{let i=l.Ay.put("/api/team_join_link/disable",{team_id:t.teamId});(0,d.N)(i,e,a),await i.then(()=>{e.dispatch(E({disabled:!0,url:void 0}))}).catch(t=>{e.dispatch(o.s.error(t.message))})}),h=(0,_.nF)(async(e,t)=>{let a=l.Ay.post("/api/team_join_link/reset",{team_id:t.teamId,level:t.level});(0,d.N)(a,e,(0,u._M)(t.teamId)),await a.then(({data:a})=>{let i=a.meta,r=(0,u.jx)(i);e.dispatch(E({disabled:!1,url:r})),t.shouldShowVisualBell&&e.dispatch(s.F.enqueue({message:(0,n.t)("flash.team_join_link_actions.invite_links_reset")}))}).catch(t=>{e.dispatch(o.s.error(t.data.message||"Unknown error"))})}),g=(0,_.nF)((e,t)=>{let a=(0,u.wZ)(t.teamId,t.level);(0,d.N)(a,e,(0,u.OL)(t.teamId)),a.then(t=>{if(t.disabled)e.dispatch(E({disabled:!0,url:void 0}));else if(t.link){let a=(0,u.jx)(t.link);e.dispatch(E({disabled:!1,url:a}))}}).catch(a=>{var i;t.shouldShowFailureMessage&&e.dispatch(o.s.error(a.message)),null==(i=t.callbackOnFailure)||i.call(t)})}),T=(0,_.nF)((e,t)=>{var a;(0,m._J)("Team Join Link Copied",t.teamId,e.getState(),{userId:null==(a=e.getState().user)?void 0:a.id,teamJoinLink:t.url,resourceType:c.vt.TEAM,resourceId:t.teamId,copyLinkSource:t.source}),e.dispatch(f.S({url:t.url}))})},5548:(e,t,a)=>{a.d(t,{KI:()=>o,MS:()=>l,of:()=>n});var i=a(66712),r=a(99506);function l(e){return e.signed_up_from_figjam_jamboard||e.signed_up_from_figjam_page?r._Y.WHITEBOARD:e.signed_up_from_figma_page?r._Y.DESIGN:e.signed_up_from_community?"community":void 0}function o(e){return document.querySelectorAll(`[data-onboarding-key=${JSON.stringify(e)}]`).length>0}function n(e){let t=l(e);return(!e.signed_up_from_figjam_jamboard||!(0,i.kc)().figjam_3p_file_importer)&&("whiteboard"===t||"community"===t)}a(86060),a(59530),a(43678),a(43987),a(46869),a(42617)},61148:(e,t,a)=>{let i;a.d(t,{zK:()=>k,IA:()=>y,KQ:()=>F});var r=a(84934),l=a(9225),o=a(90724),n=a(208),s=a(81388),_=a(39863),m=a(92592),c=a(80820),d=a(38269),u=a(82976),f=a(36500),p=a(2957);let E=(0,a(67249).N)("ORGS_UPDATE_TEAM_ROLE_REQUESTS");var I=a(99506),h=a(68860),g=a(37590),T=a(44950),v=a(47807);let w=new class{constructor(){this.TeamRoleRequestsOrgIdSchemaValidator=(0,v.vh)()}getTeamRoleRequestsOrgId(e){return this.TeamRoleRequestsOrgIdSchemaValidator.validate(async({xr:t})=>await t.get("/api/team_role_requests",v.td.toAPIParameters(e)))}};var N=a(88022);a(28467);var O=((i=O||{})[i.CLICK_LEAVE=0]="CLICK_LEAVE",i[i.CLICK_WITHDRAW=1]="CLICK_WITHDRAW",i[i.CLICK_JOIN=2]="CLICK_JOIN",i[i.CLICK_REQUEST=3]="CLICK_REQUEST",i[i.BYPASS_REQUEST=4]="BYPASS_REQUEST",i[i.CLICK_JOIN_AS_ADMIN=5]="CLICK_JOIN_AS_ADMIN",i);let R=e=>`JOINING_ORG_TEAM_${e}`,b=e=>`JOINING_${e.length}_BATCH_ORG_TEAMS_${e[0]}`;var C=a(92138),A=a(92830),S=a(35757);let F=(0,c.nF)((e,t)=>{let{teamName:a,orgAccess:i,workspaceId:r,description:l,defaultPermission:o,sharingAudienceControl:c,orgBrowsable:u,hidden:E,ignoreCurrentPlan:v}=t,w=e.getState().currentUserOrgId,O={team_name:a},R=(0,A.D)(null,w);!w||v||(O.org_id=w,c&&R||(O.org_access=i)),r&&(O.workspace_id=r),l&&(O.description=l),!o||c&&R||(O.default_permission=o),c&&R&&(O.sharing_audience_control=c),u&&(O.org_browsable=u),E&&(O.hidden=E),e.dispatch(p.r1({loading:!0})),n.Ay.post("/api/teams/create",O).then(({data:a})=>{let i="team"in a.meta?a.meta.team:a.meta;(0,N._J)("Team Created",i.id,e.getState(),{sharing_audience_control:c,org_browsable:u,hidden:E}),function(e,t,a){var i,r;let l=t.getState().user,o=t.getState().currentUserOrgId;t.dispatch(p.bE({team:e}));let{ignoreCurrentPlan:n}=a;o&&!n&&(null==(i=a.inviteEmails)?void 0:i.length)&&a.inviteLevel?t.dispatch((0,C.rq)({emails:a.inviteEmails,emailsToExclude:l?new Set([l.email]):void 0,resourceType:I.vt.TEAM,resourceIdOrKey:e.id,level:a.inviteLevel,source:"new_team_creation_modal"})):a.teamFlowType===g.SC.CREATE&&(null==(r=a.inviteEmails)?void 0:r.length)&&t.dispatch((0,C.rq)({emails:a.inviteEmails,emailsToExclude:l?new Set([l.email]):void 0,resourceType:I.vt.TEAM,resourceIdOrKey:e.id,level:h.e6.EDITOR,source:"team_creation_flow"})),T.G.getTeam({teamId:e.id}).then(({data:i})=>{for(let e of i.meta)t.dispatch(f.bE({role:e}));t.dispatch(p.r1({loading:!1}));let r=t.getState().currentUserOrgId&&!n;a.dontRedirect||(a.onSuccess&&a.onSuccess(),r||a.teamFlowType===g.SC.CREATE?(t.dispatch(d.$T({view:"team",teamId:e.id})),t.dispatch(m.F.enqueue({type:"new_team_created",message:(0,_.t)("team_creation.you_have_created_a_new_team")}))):t.dispatch(d.$T({view:"addCollaborators",teamId:e.id})))})}(i,e,t)}).catch(t=>{var a;let i=(0,_.Jv)(t,(null==(a=null==t?void 0:t.response)?void 0:a.message)||(0,_.t)("team_creation.an_error_occurred_while_creating_this_team"));e.dispatch(s.s.error(i)),e.dispatch(p.r1({loading:!1}))})}),y=(0,c.nF)((e,t)=>{var a;let i=t.team,r=i.id,s=i.name,c=t.name;(0,N._J)("Team Renamed",r,e.getState());let d=n.Ay.put(`/api/teams/${r}`,{name:t.name}).then(({data:a})=>{t.skipVisualBell||e.dispatch(m.F.enqueue({message:(0,_.t)("change_team_name_visual_bell.text",{oldTeamName:s,newTeamName:c}),button:{text:(0,_.t)("change_team_name_visual_bell.undo"),action:()=>{e.dispatch(y({team:a.meta,name:s,skipVisualBell:!0}))}}}))});return null==(a=(0,l.WB)())||a.optimisticallyUpdate({Team:{[r]:{name:c}}},d),(0,o.Q)({requestPromise:d,fallbackError:"An error occurred while renaming this team.",store:e,next:e.dispatch,action:p.$w(t)})}),k=(0,c.nF)((e,t)=>{let a=t.team.id;return(0,N._J)("Team Share Settings Updated",a,e.getState(),{share_settings_type:"share_audience",oldSharingAudienceControl:t.team.sharing_audience_control,newSharingAudienceControl:t.sharingAudienceControl,oldOrgBrowsable:t.team.org_browsable,newOrgBrowsable:t.orgBrowsable,oldHidden:t.team.hidden,newHidden:t.hidden}),(0,o.Q)({requestPromise:n.Ay.put(`/api/teams/${a}`,{sharing_audience_control:t.sharingAudienceControl,org_browsable:t.orgBrowsable,hidden:t.hidden}),fallbackError:"An error occurred while changing the sharing settings of this team.",store:e,next:e.dispatch,action:p.aB(t)})});(0,c.nF)((e,t)=>{let a=t.team.id;return(0,N._J)("Team Org Access Changed",a,e.getState(),{oldOrgAccess:t.team.org_access,newOrgAcccess:t.orgAccess}),(0,o.Q)({requestPromise:n.Ay.put(`/api/teams/${a}`,{org_access:t.orgAccess}),fallbackError:"An error occurred while changing the org access of this team.",store:e,next:e.dispatch,action:p.bQ(t)})}),(0,c.nF)((e,t)=>{let a=t.team.id;return(0,N._J)("Org Team Default Member Permission Changed",a,e.getState(),{oldDefaultPermission:t.team.default_permission,newDefaultPermission:t.defaultPermission}),(0,o.Q)({requestPromise:n.Ay.put(`/api/teams/${a}`,{default_permission:t.defaultPermission}),fallbackError:(0,_.t)("file_browser.team_settings.an_error_occurred_while_changing_default_permission"),store:e,next:e.dispatch,action:p.n9(t)})}),(0,c.nF)((e,t)=>{(0,r.sx)("file-browser-hydrate",{location:"team.onJoin"});let a=R(t.teamId);(0,S._X)("onJoinTeam").then(i=>{let r=t.teamId;e.dispatch(d.Qv(i.data.meta));let l=e.getState().teams[r].name;switch(t.level){case h.e6.OWNER:e.dispatch(s.s.flash((0,_.t)("join_team_flash.as_owner.text",{teamName:l})));break;case h.e6.ADMIN:e.dispatch(s.s.flash((0,_.t)("join_team_flash.as_admin.text",{teamName:l})));break;default:e.dispatch(s.s.flash((0,_.t)("join_team_flash.text",{teamName:l})))}e.dispatch(u.x2({key:a}))}).catch(()=>{e.dispatch(u.of({key:a}))}),e.dispatch(p.mw(t))}),(0,c.nF)((e,t)=>{(0,r.sx)("file-browser-hydrate",{location:"team.onBatchJoin"});let a=b(t.teamIds);(0,S._X)("onBatchJoinTeams").then(i=>{e.dispatch(d.Qv(i.data.meta));let r=t.teamIds.length;switch(t.level){case h.e6.OWNER:e.dispatch(s.s.flash((0,_.t)("join_team_batch_flash.as_owner.text",{teamCount:r})));break;case h.e6.ADMIN:e.dispatch(s.s.flash((0,_.t)("join_team_batch_flash.as_admin.text",{teamCount:r})));break;default:e.dispatch(s.s.flash((0,_.t)("join_team_batch_flash.text",{teamCount:r})))}e.dispatch(u.x2({key:a}))}).catch(()=>{e.dispatch(u.of({key:a}))}),e.dispatch(p.ii(t))}),(0,c.nF)(e=>{let t=e.getState().currentUserOrgId;w.getTeamRoleRequestsOrgId({orgId:t}).then(t=>{e.dispatch(E({teamRoleRequests:t.data.meta}))})})},81655:(e,t,a)=>{a.d(t,{F:()=>i}),a(86759);let i=null},88128:(e,t,a)=>{a.d(t,{z:()=>e_});var i=a(80820),r=a(66348),l=a(62275),o=a(72503),n=a(11855),s=a(88507),_=a(63033),m=a(44492),c=a(74378),d=a(49765),u=a(43742),f=a(70394),p=a(64974);let E=n.createContext({name:"",value:"",readonlyGroup:!1,onChange:()=>{},autofocus:!1}),I=n.forwardRef(function({autofocus:e=!1,...t},a){let i=(0,n.useId)(),{onChange:r}=function({onChange:e,recordingKey:t,...a}){let i=(0,p.Q)(e,{eventName:"change",recordingKey:t},[e,a.disabled]);return{...a,onChange:i}}({disabled:t.readonly,...t}),{value:l,readonly:o}=t,s=n.useMemo(()=>({name:i,value:l??"",onChange:r,readonlyGroup:o,autofocus:e}),[i,r,l,o,e]);return n.createElement("fieldset",{...f.r,ref:a,"aria-readonly":t.readonly??void 0,"aria-disabled":t.readonly??void 0,className:t.className},n.createElement(E.Provider,{value:s},t.children))});var h=a(67054);let g={Root:I,Option:n.forwardRef(function(e,t){let a=(0,h.M)(t),{name:i,value:r,onChange:l,readonlyGroup:o,autofocus:s}=(0,n.useContext)(E),{id:_,value:m,className:c,readonly:d,...u}=e,f=o||d,p=r===m;return(0,n.useLayoutEffect)(()=>{a.current.autofocus=p&&s},[a,p,s]),n.createElement("input",{ref:a,"aria-readonly":f??void 0,"aria-disabled":f??void 0,checked:r===m,onKeyDown:e=>{"Escape"===e.key&&e.currentTarget.blur()},className:c,id:_,name:i,onChange:function(e){f||l(e.target.value,{event:e})},type:"radio",value:m,...u})})},T={ui2:{viewbox:"0 0 32 32",center:"16",outerRadius:"6",innerRadius:"3"},ui3:{viewbox:"0 0 24 24",center:"12",outerRadius:"8",innerRadius:"4"}};function v(){let{version:e}=(0,u.DP)(),{outerRadius:t,innerRadius:a,viewbox:i,center:r}=T[e];return n.createElement("svg",{className:"radio-module--radioIcon--d95Dw",viewBox:i,fill:"none","aria-hidden":!0},n.createElement("circle",{r:t,cx:r,cy:r,stroke:"var(--radio-stroke-color)",strokeWidth:"var(--radio-stroke-width)"}),n.createElement("circle",{r:a,cx:r,cy:r,fill:"var(--radio-fill)"}))}let w={Root:n.forwardRef(function(e,t){return n.createElement(g.Root,{className:"radio-module--fieldsetReset--OFtw0",ref:t,...e})}),Option:n.forwardRef(function(e,t){let{readonlyGroup:a}=n.useContext(E),i=a||e.readonly;return n.createElement("span",{className:"radio-module--inputGroup--i1mbr","data-disabled":i},n.createElement(g.Option,{className:"radio-module--radioOption--qRV5c",ref:t,...e}),n.createElement(v,null))})},N={Root:n.forwardRef(function({legend:e,children:t,...a},i){return n.createElement(w.Root,{ref:i,...a},e,n.createElement("div",{className:"radio-module--optionList--khMze"},t))}),Option:n.forwardRef(function({label:e,children:t,...a},i){let r=!!t,[l,o]=(0,d.q)(),s=(0,c.e)(l),_=r?(0,c.u)(l):void 0;return n.createElement(o,{value:l},n.createElement("div",{className:"radio-module--root--trhdN"},n.createElement(w.Option,{id:s,"aria-describedby":_,...a,ref:i}),e,r&&n.createElement(m.V,{className:"radio-module--description--1I469"},t)))})};var O=a(80360);a(55756);let R=n.forwardRef(function(e,t){return n.createElement(O.TD,{ref:t,...e})});var b=a(56296),C=a(35283),A=a(24780),S=a(94272),F=a(66712),y=a(68137),k=a(99569),x=a(46689),L=a(92766),M=a(24897),P=a(62638),D=a(39863),U=a(1114),B=a(1505),W=a(72517),j=a(88022),J=a(96226),V=a(52800),K=a(99506),$=a(874),Y=a(51363),q=a(37870),G=a(36894),H=a(88578),Q=a(84129);let X="file_import_modal--fileRowTitle----0mD",z="file_import_modal--fileRows--1fCKB overflow--overflowYAuto--nfK38 overflow--momentumScroll--qtsu7",Z="file_import_modal--closeButton--U-RQ6 close_button--modalUpperRightCorner--eKAQg";var ee=a(77869),et=a(30834);let ea=(0,q.Ju)(function(){let e=(0,s.wA)(),{trackEvent:t,fileImport:a}=(0,S.R)(e=>({trackEvent:t=>{(0,j.uE)(t,e)},fileImport:e.fileImport})),i=()=>{e(l.Ce()),e(r.cY()),t("Clicked file browser import done button")},_=()=>{e(r.yD()),t("Clicked file browser import cancel button")},m=(0,F.kc)().figjam_bulk_file_import_refresh&&(0,F.kc)().figjam_mural_import,c=(()=>{switch(a.step){case o.Y5.CONFIRM_PDF_IMPORT:if(m)return n.createElement(er,{fileImport:a,onCancel:_,onDone:i});return n.createElement(ei,{fileImport:a,onCancel:_,onDone:i});case o.Y5.START:case o.Y5.FILE_IMPORT_WITH_CANCELED_PDF:case o.Y5.FILE_IMPORT_WITH_CONFIRMED_PDF:return n.createElement(el,{fileImport:a,onDone:i,onCancel:_});default:(0,C.xb)(a.step)}})();return n.createElement(W.fu,{name:"import_progress_modal"},c)},"FILE_IMPORT_MODAL");function ei({fileImport:e,onCancel:t,onDone:a}){let i=(0,s.wA)(),l=eo(e),o=Object.keys(e.files).map(e=>parseInt(e)).sort((e,t)=>e-t);return n.createElement(H.aF,{title:(0,D.t)("file_browser.file_import_view.import_pd_fs_as_fig_jam_files"),disableClickOutsideToHide:l.remainingFiles>0,tintedModalBackground:!0,className:"file_import_modal--confirmationModal--p28ib"},n.createElement(k.Jn,{onClick:e.queue.length?t:a,className:Z,trackingProperties:{trackingDescriptor:B.c.FILE_IMPORT_X_BUTTON,text:"dismiss"}}),n.createElement("div",{className:"file_import_modal--confirmationContent--uyVv7"},n.createElement("div",{className:"file_import_modal--confirmationTextRow--vCKq0"},l.pdfsOnly?n.createElement(D.Tx,{id:"file_browser.file_import_view.pd_fs_can_only_be_imported_as_new_fig_jam_files"}):n.createElement(D.Tx,{id:"file_browser.file_import_view.files_you_ve_selected_are_pd_fs_pd_fs_can_only_be_imported_to_fig_jam_for_now",numPDFFiles:l.pdfCount,numTotalFiles:o.length})),n.createElement("div",{className:"file_import_modal--confirmationButtons--sNtXh"},n.createElement(x.tM,{onClick:()=>{i(r.AU())}},l.pdfsOnly?n.createElement(D.Tx,{id:"file_browser.file_import_view.cancel"}):n.createElement(D.Tx,{id:"file_browser.file_import_view.don_t_import_pd_fs"})),n.createElement(x.vd,{onClick:()=>{i(r._9(V.VtE.UNKNOWN))}},l.pdfsOnly?n.createElement(D.Tx,{id:"file_browser.file_import_view.import"}):n.createElement(D.Tx,{id:"file_browser.file_import_view.import_all"})))))}function er({fileImport:e,onCancel:t}){let a=eo(e),i=Object.keys(e.files).map(e=>parseInt(e)).sort((e,t)=>e-t),l=(0,s.wA)(),[m,c]=n.useState((0,o.Wb)(V.VtE.UNKNOWN)),d=(0,n.useCallback)(()=>{l(r._9((0,o.ky)(m)))},[l,m]),u=(0,n.useCallback)(()=>{l(r.AU()),t()},[l,t]),f=(0,n.useMemo)(()=>{let e=(0,A.U)(V.VtE).filter(e=>e!==V.VtE.UNKNOWN&&(!!(0,F.kc)().figjam_lucid_import||e!==V.VtE.LUCID)).map(e=>(0,o.Wb)(e));return e.sort(),e},[]),p=(0,W.tf)(_.$n);return n.createElement(G.XV,{title:(0,D.t)("file_browser.file_import_view.select_pdf_source_header"),maxWidth:560,headerClassName:P.cx.pl16.$,isCloseHidden:!0,customButton:n.createElement(k.Jn,{onClick:u,trackingProperties:{trackingDescriptor:B.c.FILE_IMPORT_X_BUTTON,text:"dismiss"}})},n.createElement("div",{className:P.cx.flex.flexColumn.p16.gap24.font13.$,style:U.sx.add({lineHeight:"22px",letterSpacing:"-0.032px"}).$},!a.pdfsOnly&&n.createElement("div",null,n.createElement(D.Tx,{id:"file_browser.file_import_view.files_you_ve_selected_are_pd_fs_pd_fs_can_only_be_imported_to_fig_jam_for_now",numPDFFiles:a.pdfCount,numTotalFiles:i.length})),n.createElement("div",null,a.pdfCount>1?n.createElement(D.Tx,{id:"file_browser.file_import_view.select_pdf_source_description_plural"}):n.createElement(D.Tx,{id:"file_browser.file_import_view.select_pdf_source_description_singular"})),n.createElement("form",null,n.createElement(N.Root,{legend:n.createElement(R,null,n.createElement(D.Tx,{id:"file_browser.file_import_view.select_pdf_source_input_legend"})),value:m,onChange:c},f.map((e,t)=>n.createElement("div",{key:e,className:P.cx.flex.flexColumn.justifyCenter.borderBox.bRadius6.if(t>0,P.cx.mt12).$,style:U.sx.add({height:"56px",boxShadow:"inset 0 0 0 1px var(--color-border)"}).if(e===m,{boxShadow:"inset 0 0 0 2px var(--color-border-selected)"}).$},n.createElement(N.Option,{value:e,label:n.createElement(b.J,{className:P.cx.font13.fontMedium.$},e)}))))),n.createElement("div",{className:P.cx.flex.flexColumn.itemsEnd.gap8.$},n.createElement(p,{variant:"primary",disabled:(0,o.ky)(m)===V.VtE.UNKNOWN,onClick:d},n.createElement(D.Tx,{id:"modal.confirm"})))))}function el({fileImport:e,onDone:t,onCancel:a}){let i,r;let o=(0,s.wA)(),_=(0,s.d4)(e=>{var t;if("folder"===e.selectedView.view){let a=e.selectedView.folderId&&(null==(t=e.folders[e.selectedView.folderId])?void 0:t.team_id);if(null!=a)return e.teams[a]}return null}),m=eo(e);!function(e){let t=(0,n.useCallback)(e=>{e.preventDefault()},[]);(0,n.useEffect)(()=>(e&&window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}),[e,t])}(!!(0,F.kc)().figjam_bulk_file_import_refresh&&m.remainingFiles>0);let c=(e,a)=>{t(),null!=_&&o((0,l.to)({type:Q.DV,data:{team:_,resource:$.vL.FILE,action:Y.ZN.IMPORT_FILES,editorType:e,multipleResources:a>1,currentPlan:J.F.Plan.STARTER,upsellPlan:J.F.Plan.PRO}}))};return i=m.totalFiles>1?0===m.remainingFiles?n.createElement(D.Tx,{id:"file_browser.file_import_view.success_count_total_files_imported_successfully",succeededCount:m.importedFiles,total:m.totalFiles}):n.createElement(D.Tx,{id:"file_browser.file_import_view.importing_done_1_total_files",currentFileNum:m.processedFiles+1,total:m.totalFiles}):0===m.remainingFiles&&1===m.importedFiles?n.createElement(D.Tx,{id:"file_browser.file_import_view.file_imported_successfully"}):0===m.remainingFiles&&0===m.importedFiles?n.createElement(D.Tx,{id:"file_browser.file_import_view.file_import_failed"}):n.createElement(D.Tx,{id:"file_browser.file_import_view.importing_file"}),r=m.editorType===K._Y.DESIGN?(0,D.t)("file_browser.file_import_view.importing_to_figma_design"):m.editorType===K._Y.WHITEBOARD?(0,D.t)("file_browser.file_import_view.importing_to_fig_jam"):(0,D.t)("file_browser.file_import_view.importing"),n.createElement(H.aF,{title:r,disableClickOutsideToHide:m.remainingFiles>0,tintedModalBackground:!0,onHide:t,className:"file_import_modal--fileImportModal--bY5Y3"},n.createElement(k.Jn,{onClick:e.queue.length?a:t,className:Z,trackingProperties:{trackingDescriptor:B.c.FILE_IMPORT_X_BUTTON,text:"dismiss"}}),n.createElement("div",{className:"file_import_modal--fileRowSection--o5y2T"},null==m.editorType&&n.createElement("div",{className:X},n.createElement(D.Tx,{id:"file_browser.file_import_view.fig_jam"})),n.createElement("div",{className:z},m.fileIdsByEditorType[K._Y.WHITEBOARD].map(t=>n.createElement(en,{key:`file-import-${t}`,file:e.files[t]}))),null==m.editorType&&n.createElement("div",{className:X},n.createElement(D.Tx,{id:"file_browser.file_import_view.figma_design"})),n.createElement("div",{className:z},m.fileIdsByEditorType[K._Y.DESIGN].map(t=>n.createElement(en,{key:`file-import-${t}`,file:e.files[t]})))),n.createElement("div",{className:"file_import_modal--footer--EPONy"},n.createElement("div",{className:P.cx.colorText.$},i),0!==m.remainingFiles?n.createElement(x.vd,{onClick:a,className:"file_import_modal--footerButtonRed--rnyAO file_import_modal--footerButton--fYXUV"},n.createElement(D.Tx,{id:"file_browser.file_import_view.cancel"})):e.failedOnFileLimit?n.createElement("button",{type:"button",onClick:()=>c(m.editorType,m.failedFiles),className:"file_import_modal--footerButtonBlue---sB5X file_import_modal--footerButton--fYXUV"},n.createElement(D.Tx,{id:"file_browser.file_import_view.next"})):n.createElement(y.$$,{onClick:t},n.createElement(D.Tx,{id:"file_browser.file_import_view.done"}))))}function eo(e){let t=Object.keys(e.files).length,a=e.queue.length,i=0,r={[K._Y.WHITEBOARD]:[],[K._Y.DESIGN]:[]},l=0;for(let t in e.files){let a=Number(t),n=e.files[t];(n.status===o.mO.SUCCESS||n.status===o.mO.WARNING)&&i++;let s=(0,o.C3)(n.name);s||(0,o.iX)(n.name)||(0,o.qW)(n.name)?(r[K._Y.WHITEBOARD].push(a),s&&l++):r[K._Y.DESIGN].push(a)}let n=new Set(Object.entries(r).map(([e,t])=>t.length>0?e:null).filter(Boolean)),s=t-i,_=l===t,m=1!==n.size?null:n.values().next().value;return{totalFiles:t,remainingFiles:a,processedFiles:t-a,importedFiles:i,failedFiles:s,importTo:n,editorType:m,pdfsOnly:_,pdfCount:l,fileIdsByEditorType:r}}function en(e){let{file:t}=e,a="file_import_modal--fileSpinnerIcon--Mvsgz file_import_modal--fileStatusIcon--FwOR2",i=null;(t.status===o.mO.SUCCESS||t.status===o.mO.WARNING)&&(a="file_import_modal--fileCheckIcon--2ZISX file_import_modal--fileStatusIcon--FwOR2",i=ee.A),(t.status===o.mO.FAILURE||t.status===o.mO.CANCELED)&&(a="file_import_modal--fileXIcon---Nv65 file_import_modal--fileStatusIcon--FwOR2",i=et.A);let r="file_import_modal--fileWaitingName--tWvmB file_import_modal--fileName--bg-9T";return t.status===o.mO.WAITING&&(r="file_import_modal--fileResolvedName--DJAXt file_import_modal--fileName--bg-9T"),n.createElement("div",{className:"file_import_modal--fileImportRow--XbdzM"},i?n.createElement(M.B,{className:a,svg:i}):n.createElement(L.kt,{className:a}),n.createElement("div",{className:r},t.name),t.message&&n.createElement("div",{className:"file_import_modal--fileImportMessage--DNjt8"},Array.isArray(t.message)?t.message.map((e,t)=>n.createElement("div",{key:t},e)):t.message,t.cta&&n.createElement(x.N_,{className:"file_import_modal--fileImportMessageCTA--BpIi4",onClick:t.cta.action,trusted:!0},t.cta.text)))}var es=a(81655);let e_=(0,i.nF)((e,t)=>{var a;es.F&&(e.dispatch(r.Ud(t)),(0,o.C3)(t.name)&&e.getState().fileImport.step===o.Y5.START&&e.dispatch(r.JK()),(null==(a=e.getState().modalShown)?void 0:a.type)!==ea.type&&e.dispatch(l.to({type:ea})),es.F.hasCanceled()||e.dispatch(r.Jb()))})},37890:(e,t,a)=>{a.d(t,{OL:()=>o,_M:()=>n,jx:()=>l,wZ:()=>r});var i=a(208);function r(e,t){return i.Ay.put("/api/team_join_link",{team_id:e,level:t}).then(({data:e})=>e.meta).catch(e=>{throw e})}function l(e){return`${window.location.origin}/team_invite/redeem/${e.token}`}a(29318),a(47206);let o=e=>`RETRIEVING_TEAM_JOIN_LINK_${e}`,n=e=>`RESETTING_TEAM_JOIN_LINK_${e}`},72503:(e,t,a)=>{let i,r;a.d(t,{C3:()=>m,Wb:()=>u,Y5:()=>s,dv:()=>_,iX:()=>d,ky:()=>f,mO:()=>n,qW:()=>c});var l=a(35283),o=a(52800),n=((i=n||{})[i.SUCCESS=0]="SUCCESS",i[i.WARNING=1]="WARNING",i[i.FAILURE=2]="FAILURE",i[i.BUSY=3]="BUSY",i[i.WAITING=4]="WAITING",i[i.CANCELED=5]="CANCELED",i),s=((r=s||{}).START="start",r.CONFIRM_PDF_IMPORT="confirm_pdf_import",r.FILE_IMPORT_WITH_CANCELED_PDF="file_import_with_canceled_pdf",r.FILE_IMPORT_WITH_CONFIRMED_PDF="file_import_with_confirmed_pdf",r);function _(e){let t=e.replace(/\.[^\.]+$/,"");return e.slice(t.length)}function m(e){return".pdf"===_(e).toLowerCase()}function c(e){return".jamboard"===_(e).toLowerCase()}function d(e){return".jam"===_(e).toLowerCase()}function u(e){switch(e){case o.VtE.MIRO:return"Miro";case o.VtE.MURAL:return"Mural";case o.VtE.LUCID:return"Lucid";case o.VtE.UNKNOWN:return"Unknown";default:(0,l.xb)(e)}}function f(e){switch(e){case"Miro":return o.VtE.MIRO;case"Mural":return o.VtE.MURAL;case"Lucid":return o.VtE.LUCID;default:return o.VtE.UNKNOWN}}}}]);

//# debugId=1d921423-12c1-5e69-929f-93db9fbe780c

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/59939ea12b1f9988e21b65953b30f9991e46adcc/674-27fca63cad0b91a0.min.js.map